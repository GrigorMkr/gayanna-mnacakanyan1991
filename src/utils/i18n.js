const LANGUAGE_KEY = 'app_language';

const translations = {
    ru: {
        siteTitle: 'Авторский сайт художницы Гаянны Мнацаканян',
        artistName: 'Гаянна Мнацаканян',
        title: 'Художница',
        description: 'Живопись, наполненная красотой и эмоциями',
        nav: {
            home: 'Главная',
            about: 'О художнице',
            gallery: 'Галерея',
            reviews: 'Отзывы',
            contact: 'Контакты'
        },
        about: [
            'Гаянна Мнацаканян родилась и выросла в Армении — стране с богатыми художественными традициями и неповторимой культурой. С детства вдохновляясь красотой родной земли, она развивала свой талант и страсть к живописи.',
            'Образование получила в художественном колледже имени Паноса Терлемезяна, где оттачивала мастерство и изучала классические техники живописи. Работы Гаянны отражают глубокую связь с армянской культурой и современное видение искусства.',
            'Каждая картина — это история, эмоция, момент времени, запечатленный на холсте с любовью и мастерством.'
        ],
        gallery: {
            soldCount: 'Продано картин',
            addToCart: 'В корзину',
            price: '₽'
        },
        reviews: {
            title: 'Отзывы клиентов',
            averageRating: 'Средняя оценка'
        },
        contact: {
            title: 'Свяжитесь со мной',
            subtitle: 'Я всегда рада общению и новым проектам',
            phone: 'Телефон',
            whatsapp: 'WhatsApp',
            telegram: 'Telegram'
        },
        footer: {
            copyright: '© 2024 Гаянна Мнацаканян. Все права защищены.'
        },
        cookie: {
            message: 'Мой сайт использует файлы cookie. Они необходимы для оптимальной работы сайта. Подробнее прочитайте в <a href="#" class="cookie-policy-link">Политике использования файлов cookie</a>',
            acceptAll: 'Разрешить все',
            acceptEssential: 'Разрешить обязательные'
        },
        paintings: {
            painting1: 'Рассвет над Араратом',
            painting2: 'Армянские мотивы',
            painting3: 'Весенний сад',
            painting4: 'Горный пейзаж',
            painting5: 'Тишина вечера',
            painting6: 'Цветущие поля',
            painting7: 'Старый Ереван',
            painting8: 'Морской бриз',
            painting9: 'Осенняя симфония',
            painting10: 'Душа Армении',
            painting11: 'Горная река',
            painting12: 'Цветы жизни',
            painting13: 'Золотой час',
            painting15: 'Традиции предков',
            painting17: 'Летний день',
            painting18: 'Горные вершины',
            painting19: 'Воспоминания',
            painting20: 'Свет и тень',
            painting23: 'Древние стены',
            painting24: 'Природная гармония',
            painting25: 'Вечерний свет',
            painting26: 'Армянская душа',
            painting27: 'Цвета родины',
            painting28: 'Горный воздух',
            painting31: 'Времена года',
            painting32: 'Тихая гавань',
            painting33: 'Этюд в красках',
            painting34: 'Древние традиции',
            painting35: 'Природная красота',
            painting36: 'Горная дорога',
            painting37: 'Вдохновение',
            painting116: 'Солнечный день'
        },
        reviewTexts: [
            'Невероятно талантливая художница! Картина "Рассвет над Араратом" превзошла все мои ожидания. Каждая деталь проработана с любовью и мастерством. Гаянна создала настоящий шедевр, который теперь украшает мой дом.',
            'Заказала портрет у Гаянны и осталась в полном восторге! Она уловила не только внешнее сходство, но и внутреннюю суть. Работа выполнена профессионально, с вниманием к деталям. Очень рекомендую!',
            'Картины Гаянны наполнены эмоциями и красотой. Купил "Армянские мотивы" и не могу налюбоваться. Каждый день открываю для себя что-то новое в этой работе. Спасибо за такое искусство!',
            'Работа с Гаянной - это настоящее удовольствие! Она внимательно выслушала все мои пожелания и создала картину, которая идеально вписывается в интерьер. Качество на высшем уровне, сроки соблюдены.',
            'Гаянна - мастер своего дела! Её работы отличаются особой энергетикой и глубиной. Картина "Душа Армении" стала центральным элементом моей коллекции. Очень довольна покупкой!',
            'Прекрасный художник с уникальным стилем! Заказал несколько картин для офиса, и все они вызывают восхищение у посетителей. Гаянна умеет передать настроение и атмосферу через краски.'
        ]
    },
    hy: {
        siteTitle: 'Գայաննա Մնացականյանի հեղինակային կայք',
        artistName: 'Գայաննա Մնացականյան',
        title: 'Նկարիչ',
        description: 'Գեղանկարչություն, լցված գեղեցկությամբ և զգացմունքներով',
        nav: {
            home: 'Գլխավոր',
            about: 'Նկարչի մասին',
            gallery: 'Պատկերասրահ',
            reviews: 'Կարծիքներ',
            contact: 'Կոնտակտներ'
        },
        about: [
            'Գայաննա Մնացականյանը ծնվել և մեծացել է Հայաստանում՝ հարուստ գեղարվեստական ավանդույթներով և եզակի մշակույթով երկրում: Մանկությունից ոգեշնչվելով հայրենի երկրի գեղեցկությամբ՝ նա զարգացրել է իր տաղանդը և կիրքը գեղանկարչության նկատմամբ:',
            'Կրթություն է ստացել Պանոս Թերլեմեզյանի անվան գեղարվեստական քոլեջում, որտեղ կատարելագործել է իր վարպետությունը և ուսումնասիրել դասական գեղանկարչության տեխնիկան: Գայաննայի աշխատանքները արտացոլում են հայ մշակույթի հետ խորը կապը և արվեստի ժամանակակից տեսլականը:',
            'Յուրաքանչյուր նկար պատմություն է, զգացմունք, ժամանակի պահ, որը սիրով և վարպետությամբ ամրագրված է կտավի վրա:'
        ],
        gallery: {
            soldCount: 'Վաճառված նկարներ',
            addToCart: 'Զամբյուղ',
            price: '₽'
        },
        reviews: {
            title: 'Հաճախորդների կարծիքները',
            averageRating: 'Միջին գնահատական'
        },
        contact: {
            title: 'Կապվեք ինձ հետ',
            subtitle: 'Ես միշտ ուրախ եմ շփմանը և նոր նախագծերին',
            phone: 'Հեռախոս',
            whatsapp: 'WhatsApp',
            telegram: 'Telegram'
        },
        footer: {
            copyright: '© 2024 Գայաննա Մնացականյան: Բոլոր իրավունքները պաշտպանված են:'
        },
        cookie: {
            message: 'Իմ կայքը օգտագործում է cookie ֆայլեր: Դրանք անհրաժեշտ են կայքի օպտիմալ աշխատանքի համար: Ավելին կարող եք կարդալ <a href="#" class="cookie-policy-link">Cookie-ների օգտագործման քաղաքականության</a> մեջ',
            acceptAll: 'Թույլատրել բոլորը',
            acceptEssential: 'Թույլատրել միայն անհրաժեշտները'
        },
        paintings: {
            painting1: 'Արարատի արշալույս',
            painting2: 'Հայկական մոտիվներ',
            painting3: 'Գարնանային այգի',
            painting4: 'Լեռնային բնապատկեր',
            painting5: 'Երեկոյան լռություն',
            painting6: 'Ծաղկած դաշտեր',
            painting7: 'Հին Երևան',
            painting8: 'Ծովային քամի',
            painting9: 'Աշնանային սիմֆոնիա',
            painting10: 'Հայաստանի հոգին',
            painting11: 'Լեռնային գետ',
            painting12: 'Կյանքի ծաղիկներ',
            painting13: 'Ոսկե ժամ',
            painting15: 'Նախնիների ավանդույթներ',
            painting17: 'Ամառային օր',
            painting18: 'Լեռնային գագաթներ',
            painting19: 'Հիշողություններ',
            painting20: 'Լույս և ստվեր',
            painting23: 'Հին պատեր',
            painting24: 'Բնական ներդաշնակություն',
            painting25: 'Երեկոյան լույս',
            painting26: 'Հայկական հոգի',
            painting27: 'Հայրենիքի գույներ',
            painting28: 'Լեռնային օդ',
            painting31: 'Տարվա եղանակներ',
            painting32: 'Հանգիստ նավահանգիստ',
            painting33: 'Էտյուդ գույներով',
            painting34: 'Հին ավանդույթներ',
            painting35: 'Բնական գեղեցկություն',
            painting36: 'Լեռնային ճանապարհ',
            painting37: 'Ոգեշնչում',
            painting116: 'Արևոտ օր'
        },
        reviewTexts: [
            'Անհավատալի տաղանդավոր նկարչուհի: "Արարատի արշալույս" նկարը գերազանցել է իմ բոլոր ակնկալիքները: Յուրաքանչյուր մանրուք մշակված է սիրով և վարպետությամբ: Գայաննան ստեղծել է իսկական գլուխգործոց, որը այժմ զարդարում է իմ տունը:',
            'Պատվիրեցի դիմանկար Գայաննայից և մնացի լիովին հիացած: Նա ոչ միայն բռնել է արտաքին նմանությունը, այլև ներքին էությունը: Աշխատանքը կատարված է մասնագիտորեն, մանրամասների նկատմամբ ուշադրությամբ: Շատ եմ խորհուրդ տալիս:',
            'Գայաննայի նկարները լցված են զգացմունքներով և գեղեցկությամբ: Գնեցի "Հայկական մոտիվներ" և չեմ կարող հիանալ: Ամեն օր ինձ համար նոր բան եմ բացահայտում այս աշխատանքում: Շնորհակալություն նման արվեստի համար:',
            'Գայաննայի հետ աշխատանքը իսկական հաճույք է: Նա ուշադիր լսեց իմ բոլոր ցանկությունները և ստեղծեց նկար, որը իդեալականորեն տեղավորվում է ինտերիերում: Որակը բարձր մակարդակի վրա է, ժամկետները պահպանված են:',
            'Գայաննան իր գործի վարպետն է: Նրա աշխատանքները տարբերվում են հատուկ էներգիայով և խորությամբ: "Հայաստանի հոգին" նկարը դարձավ իմ հավաքածուի կենտրոնական տարրը: Շատ գոհ եմ գնումից:',
            'Հիանալի նկարիչ եզակի ոճով: Պատվիրեցի մի քանի նկար գրասենյակի համար, և բոլորը հիացմունք են առաջացնում այցելուների մոտ: Գայաննան կարողանում է փոխանցել տրամադրությունը և մթնոլորտը գույների միջոցով:'
        ]
    }
};

export class I18n {
    constructor() {
        this.currentLanguage = this.getLanguage();
    }

    getLanguage() {
        try {
            const saved = localStorage.getItem(LANGUAGE_KEY);
            if (saved && (saved === 'ru' || saved === 'hy')) {
                return saved;
            }
            const browserLang = navigator.language || navigator.userLanguage;
            return browserLang.startsWith('hy') ? 'hy' : 'ru';
        } catch (error) {
            return 'ru';
        }
    }

    setLanguage(lang) {
        if (lang === 'ru' || lang === 'hy') {
            try {
                localStorage.setItem(LANGUAGE_KEY, lang);
                this.currentLanguage = lang;
                return true;
            } catch (error) {
                console.error('Ошибка сохранения языка:', error);
                return false;
            }
        }
        return false;
    }

    t(key, params = {}) {
        const keys = key.split('.');
        let value = translations[this.currentLanguage];
        
        for (const k of keys) {
            if (value && typeof value === 'object' && k in value) {
                value = value[k];
            } else {
                return key;
            }
        }
        
        if (typeof value === 'string' && Object.keys(params).length > 0) {
            return value.replace(/\{\{(\w+)\}\}/g, (match, paramKey) => {
                return params[paramKey] !== undefined ? params[paramKey] : match;
            });
        }
        
        return value || key;
    }

    getCurrentLanguage() {
        return this.currentLanguage;
    }

    getAvailableLanguages() {
        return [
            { code: 'ru', name: 'Русский', nativeName: 'Русский' },
            { code: 'hy', name: 'Armenian', nativeName: 'Հայերեն' }
        ];
    }
}

export const i18n = new I18n();

